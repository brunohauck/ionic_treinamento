<!--
  Generated template for the FazerpedidoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
      <ion-title>
        Carrinho
      </ion-title>
    </ion-navbar>
</ion-header>
  
<ion-content padding>
  
	<ion-card>
  	<ion-card-header>
	   Items
	  </ion-card-header>
		<ion-card-content *ngIf="cart.pedidos === null">
		  Seu carrinho está vazio
		</ion-card-content>
	   <ion-list no-lines>
		 <ion-item *ngFor="let pedido of cart.pedidos; let i = index;">
		<ion-avatar item-left>
		  <img src="{{pedido.cardapio.imgurl}}">
		</ion-avatar>
		<h2>{{pedido.cardapio.nome}} </h2>
		<div>
		<p><span st>{{pedido.cardapio.preco | currency:'BRL':true }} - <b>x {{pedido.quantidade}}</b></span> </p>
		</div>
		<div>
			<button primary large>
			  <ion-icon name="add" (click)="increaseQuantity(i)"></ion-icon>
			</button>
			<button primary large>
			<ion-icon name="remove" (click)="decreaseQuantity(i)"></ion-icon>
			</button>
		</div>
	  </ion-item>
	</ion-list>
	  <ion-card-content *ngIf="cart.pedidos != null">
		  <div>Valor total  {{cart.valor_total | currency:'BRL':true }}</div>
		  <br />
		  <div>Taxa de entrega {{ cart.taxa_entrega | currency:'BRL':true }}</div>
	  </ion-card-content>	 	
	</ion-card>
	<ion-card>
      <form id="cadastro-form1">
          <ion-item id="pedido-input1">
            <ion-label>
              Observação:
            </ion-label>
            <ion-input type="text" [(ngModel)]="cart.observacao" name="observacao" hint="observação" > </ion-input>
          </ion-item>
      </form>
	  <ion-card-content>		
	   <button ion-button full 
		  (click)="checkout()"
		  [disabled]="cart.pedidos === null">Finalizar pedido</button>
		</ion-card-content>
		<ion-card-content>
		  <button id="pedido-button3" (click)="goToRestaurantes()" ion-button color="stable" block>
        Realizar outro pedido
      </button>
    </ion-card-content>   
	</ion-card>    
</ion-content>